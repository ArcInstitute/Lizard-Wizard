profiles {
    conda {
        conda.enabled          = true
        conda.useMamba         = true
        docker.enabled         = false
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    docker {
        docker.enabled         = true
        docker.sudo            = false
        docker.runOptions      = "-u \$(id -u):\$(id -g) --platform=linux/amd64"
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    dev_zeiss_3d {
        params.input_dir        = "/large_experiments/multiomics/lizard_wizard/test_data/zeiss-3d/2024-04-17/Baseline"
        params.file_type        = "zeiss"
        params.test_image_nums  = "0,1"
    }
    dev_moldev_3d {
        params.input_dir        = "/large_experiments/multiomics/lizard_wizard/test_data/moldev-3d/Calcium_AAV-GCAMP_6wk_20240416/10xGCaMP-6wk-Baseline-Stream/80"
        params.file_type        = "moldev"
        params.test_image_nums  = "0,1"
    }
    dev_moldev_2d {
        params.input_dir        = "/large_experiments/multiomics/lizard_wizard/test_data/moldev-2d/Jay"
        params.file_type        = "moldev"
        params.test_image_nums  = "0,1"
        params.use_2d           = true
    }
    slurm {
        process.executor        = "slurm"
        process.queue           = "cpu_batch"
        executor.queueSize      = 200
    }
    vm {
        workDir               = "tmp/work/"
        process.errorStrategy = "terminate"
        process.maxRetries    = 0
        params.max_cpus       = 24
        params.max_memory     = "64.GB"
        params.max_time       = "72.h"
    }
    gcp {
        workDir               = "gs://arc-genomics-nextflow/work"
        process.executor      = "google-batch"
        process.errorStrategy = "retry"
        process.maxRetries    = 3
        process.scratch       = true
        params.max_cpus       = 36
        params.max_memory     = "800.GB"
        params.max_time       = "72.h"
        google.project        = "arc-genomics"
        google.location       = "us-west1"
    } 
    report {
        report.enabled   = true
        report.overwrite = true
        report.file      = "${params.output_dir}/nf-report/${params.timestamp}.html"
    }
    trace {
        trace.enabled   = true
        trace.overwrite = true
        trace.file      = "${params.output_dir}/nf-trace/${params.timestamp}.txt"
        trace.fields    = "task_id,hash,native_id,name,status,exit,submit,container,cpus,time,disk,memory,attempt,submit,duration,realtime,%cpu,peak_rss,peak_vmem,rchar,wchar,workdir,scratch"
    }
}


